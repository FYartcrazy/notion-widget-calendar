<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Square Calendar</title>
    <style>
        /* --- НАСТРОЙКИ ЦВЕТОВ --- */
        :root {
            --theme-color: #035439; /* Темно-зеленый */
            --header-text: #ffffff; 
            --bg-color: #ffffff;
            --text-color: #37352f;
            --faded-text: #cccccc;
            --today-bg: #035439; 
            --today-text: #ffffff;
            --font: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            margin: 0;
            padding: 20px;
            font-family: var(--font);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            box-sizing: border-box;
            background-color: transparent;
        }

        .calendar-container {
            width: 100%;
            /* Увеличили ширину, чтобы приблизить к квадрату */
            max-width: 350px; 
            background-color: var(--bg-color);
            border-radius: 20px;
            overflow: hidden;
            /* Высота подстроится под контент, но благодаря расчетам будет близка к ширине */
            box-shadow: rgba(15, 15, 15, 0.05) 0px 0px 0px 1px, rgba(15, 15, 15, 0.1) 0px 3px 6px, rgba(15, 15, 15, 0.2) 0px 9px 24px;
            display: flex;
            flex-direction: column;
        }

        /* --- ШАПКА --- */
        header {
            background-color: var(--theme-color);
            color: var(--header-text);
            /* Чуть уменьшили отступы в шапке */
            padding: 12px 20px; 
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #month-year {
            font-weight: 600;
            font-size: 1.1rem;
            letter-spacing: 0.5px;
        }

        .nav-btn {
            background: none;
            border: none;
            color: var(--header-text);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 8px;
            transition: background 0.2s;
            font-family: monospace;
        }
        
        .nav-btn:hover {
            background-color: rgba(255,255,255, 0.2);
        }

        /* --- ТЕЛО КАЛЕНДАРЯ --- */
        .body-wrapper {
            padding: 15px; /* Уменьшили внутренние отступы */
            border-bottom: 6px solid var(--theme-color); 
            flex-grow: 1;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            grid-auto-rows: 32px; /* Чуть уменьшили высоту ячейки */
            gap: 6px; /* Уменьшили расстояние между ячейками */
            text-align: center;
        }

        .day-name {
            font-size: 0.75rem;
            color: var(--theme-color); 
            font-weight: 800; 
            margin-bottom: 8px;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .day {
            width: 32px; /* Чуть уменьшили размер */
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            border-radius: 8px;
            margin: 0 auto;
            cursor: default;
            color: var(--text-color);
            transition: background 0.2s;
        }

        .day.other-month {
            color: var(--faded-text);
        }

        .day:hover:not(.today):not(.other-month) {
             background-color: #f0f0f0;
        }

        .today {
            background-color: var(--today-bg);
            color: var(--today-text);
            font-weight: bold;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

    <div class="calendar-container">
        <header>
            <button class="nav-btn" id="prev">&lt;</button>
            <div id="month-year"></div>
            <button class="nav-btn" id="next">&gt;</button>
        </header>
        
        <div class="body-wrapper">
            <div class="grid" id="calendar-grid"></div>
        </div>
    </div>

    <script>
        const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
        const dayNamesShort = ["S", "M", "T", "W", "T", "F", "S"];

        let currentDate = new Date();
        let displayedDate = new Date();

        const monthYearEl = document.getElementById("month-year");
        const gridEl = document.getElementById("calendar-grid");
        const prevBtn = document.getElementById("prev");
        const nextBtn = document.getElementById("next");

        function renderCalendar() {
            const year = displayedDate.getFullYear();
            const month = displayedDate.getMonth();

            monthYearEl.innerText = `${monthNames[month]} ${year}`;
            gridEl.innerHTML = "";

            dayNamesShort.forEach(day => {
                const el = document.createElement("div");
                el.className = "day-name";
                el.innerText = day;
                gridEl.appendChild(el);
            });

            const firstDayIndex = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const prevLastDay = new Date(year, month, 0).getDate();

            // Дни предыдущего месяца
            for (let x = firstDayIndex; x > 0; x--) {
                const dayNum = prevLastDay - x + 1;
                const dayEl = document.createElement("div");
                dayEl.className = "day other-month";
                dayEl.innerText = dayNum;
                gridEl.appendChild(dayEl);
            }

            // Дни текущего месяца
            for (let i = 1; i <= daysInMonth; i++) {
                const dayEl = document.createElement("div");
                dayEl.className = "day";
                dayEl.innerText = i;
                
                if (i === currentDate.getDate() && 
                    month === currentDate.getMonth() && 
                    year === currentDate.getFullYear()) {
                    dayEl.classList.add("today");
                }
                gridEl.appendChild(dayEl);
            }

            // Заполняем до 42 ячеек
            const totalCellsFilled = firstDayIndex + daysInMonth;
            const cellsNeeded = 42 - totalCellsFilled;
            
            for (let j = 1; j <= cellsNeeded; j++) {
                const dayEl = document.createElement("div");
                dayEl.className = "day other-month";
                dayEl.innerText = j;
                gridEl.appendChild(dayEl);
            }
        }

        prevBtn.addEventListener("click", () => {
            displayedDate.setMonth(displayedDate.getMonth() - 1);
            renderCalendar();
        });

        nextBtn.addEventListener("click", () => {
            displayedDate.setMonth(displayedDate.getMonth() + 1);
            renderCalendar();
        });

        renderCalendar();
    </script>
</body>
</html>